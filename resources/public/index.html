<!DOCTYPE html>
<html>
  <head>
    <title>Small World</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PBL40J7H77"></script>
    <script>
      window.dataLayer = window.dataLayer || []
      function gtag() {
        dataLayer.push(arguments)
      }
      gtag('js', new Date())
      gtag('config', 'G-PBL40J7H77')
    </script>

    <!-- set the favicon (dark/light mode handled in JS below) -->
    <link rel="shortcut icon" type="image/x-icon" href="kiwi-favicon.png" id="favicon" />
    <!-- <link rel="shortcut icon" type="image/x-icon" href="earth-favicon-green.ico" id="favicon" /> -->

    <!-- tell the browser do not mess with scaling -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <!-- fix encodings -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <!-- if user has Small World in their springboard, remove the top bar from the browser -->
    <meta name="apple-mobile-web-app-capable" content="yes" />

    <!-- CSS styles + Font Awesome icons CSS + Mapbox CSS -->
    <!-- Mapbox API docs: https://docs.mapbox.com/mapbox-gl-js/api/map -->
    <link rel="stylesheet" href="./css/styles.css" type="text/css" />
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v1.3.0/mapbox-gl.css" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />

    <!-- Twitter card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="https://smallworld.kiwi" />
    <meta name="twitter:title" content="Small World" />
    <meta name="twitter:description" content="keep track of friends around the world" />
    <meta name="twitter:image" content="https://smallworld.kiwi/devons_map.png" />

    <!-- Open Graph metadata -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Small World" />
    <meta property="og:description" content="keep track of friends around the world" />
    <meta property="og:url" content="https://smallworld.kiwi" />
    <meta property="og:image" content="https://smallworld.kiwi/devons_map.png" />
  </head>
  <body>
    <!-- this is the element that React will look for -->
    <section id="app"></section>

    <!-- Javascript (compiled from Clojurescript) -->
    <!-- v=x.x.x is to make sure that the browser gets updates rather than the cached version -->
    <script src="js/main.js?v=1" type="text/javascript"></script>

    <!-- reset the favicon according to dark/light mode -->
    <script type="text/javascript">
      const changeFavicon = () => {
        const faviconElem = document.getElementById('favicon')
        const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
        if (isDarkMode) {
          faviconElem.href = './earth-favicon-white.ico'
        } else {
          faviconElem.href = './earth-favicon-green.ico'
          faviconElem.href = './kiwi-favicon.png'
        }
      }
      changeFavicon()
      setInterval(changeFavicon, 1000)
    </script>
  </body>
</html>
